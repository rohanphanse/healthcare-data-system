(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"createKeyPair",(function(){return V})),n.d(r,"createSymmetricKey",(function(){return q})),n.d(r,"exportSymmetricKey",(function(){return Q})),n.d(r,"importSymmetricKey",(function(){return Z})),n.d(r,"bufferToHex",(function(){return ee})),n.d(r,"hexToBuffer",(function(){return te})),n.d(r,"symmetricKeyEncrypt",(function(){return ne})),n.d(r,"publicKeyEncrypt",(function(){return ce})),n.d(r,"privateKeyDecrypt",(function(){return ue})),n.d(r,"symmetricKeyDecrypt",(function(){return oe})),n.d(r,"importPublicKey",(function(){return pe})),n.d(r,"importPrivateKey",(function(){return be}));var c=n(1),a=n.n(c),u=n(64),s=n.n(u),o=n(23),i=n(4),p=n(22),l=n(2),b=n(3),d=n(8);function j(){return Date.now().toString(36).substring(6,8)+Math.random().toString(36).substring(2,6)}function f(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.add_account_info({public_key:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_account_public_key({account_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.add_contributor({new_contributor:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_account_contributors({account_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,r){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(Object(l.a)().mark((function e(t,n,r,c){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j(),e.next=3,window.contract.upload_data({account_id:t,data_id:a,encrypted_symmetric_key:n,encrypted_data:r,title:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_account_data_ids({account_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_encrypted_symmetric_key({data_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_encrypted_data({data_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_data_uploader({data_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.contract.get_data_title({data_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"healthcare.rohanphanse.testnet";var P=n(27),D=n(34),M=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:R,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:R,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(e,"'."))}}("testnet");function J(){return(J=Object(b.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.connect)(Object.assign({deps:{keyStore:new P.keyStores.BrowserLocalStorageKeyStore}},M));case 2:t=e.sent,window.walletConnection=new P.WalletConnection(t),window.accountId=window.walletConnection.getAccountId(),window.contract=new P.Contract(window.walletConnection.account(),M.contractName,{viewMethods:["get_account_public_key","get_account_contributors","get_account_data_ids","get_encrypted_symmetric_key","get_encrypted_data","get_data_uploader","get_data_title"],changeMethods:["add_account_info","add_contributor","remove_contributor","upload_data"]});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return H.apply(this,arguments)}function H(){return(H=Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D.formatNearAmount,e.next=3,window.walletConnection.account().getAccountBalance();case 3:return e.t1=e.sent.total,e.abrupt("return",(0,e.t0)(e.t1,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){window.walletConnection.requestSignIn(M.contractName)}function B(){window.walletConnection.signOut(),window.location.reload()}var G=n(0);function W(e){var t=e.account,n=Object(c.useState)("0"),r=Object(d.a)(n,2),a=r[0],u=r[1],s=Object(c.useCallback)(Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.accountId){e.next=7;break}return e.t0=u,e.next=4,F();case 4:e.t1=e.sent,(0,e.t0)(e.t1),localStorage.getItem("account")!==t.accountId&&(localStorage.removeItem("privateKey"),localStorage.setItem("account",t.accountId));case 7:case"end":return e.stop()}}),e)}))),[t.accountId]);return Object(c.useEffect)((function(){s()}),[s]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h2",{className:"title",children:"Unified Healthcare Data System"}),t.accountId?Object(G.jsxs)("div",{className:"account-info",children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Account:"})," ",t.accountId]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Balance:"})," ",a," NEAR"]}),Object(G.jsx)("button",{onClick:B,children:"LOG OUT"})]}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("button",{onClick:L,children:"CONNECT WALLET"})}),Object(G.jsx)("style",{jsx:"true",children:"\n                .account-info {\n                    margin-bottom: 20px;\n                }\n\n                .title {\n                    margin: 0;\n                }\n            "})]})}function V(){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(Object(l.a)().mark((function e(){var t,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]);case 2:return t=e.sent,e.next=5,crypto.subtle.exportKey("jwk",t.publicKey);case 5:return n=e.sent,e.next=8,crypto.subtle.exportKey("jwk",t.privateKey);case 8:return r=e.sent,e.abrupt("return",{publicKey:n,privateKey:r});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return z.apply(this,arguments)}function z(){return(z=Object(b.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(b.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.exportKey("raw",t);case 2:return n=e.sent,r=new Uint8Array(n),e.abrupt("return",ee(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(b.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(t),e.next=3,window.crypto.subtle.importKey("raw",n,"AES-GCM",!0,["encrypt","decrypt"]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t,n=[],r=Object(p.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;n.push(Number(c).toString(16).padStart(2,"0"))}}catch(a){r.e(a)}finally{r.f()}return n.join("")}function te(e){return Uint8Array.from(e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})))}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(b.a)(Object(l.a)().mark((function e(t,n,r){var c,a,u,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new TextEncoder,a=c.encode(r),e.next=4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,a);case 4:return u=e.sent,s=new Uint8Array(u),(new TextDecoder).decode(s),e.abrupt("return",ee(s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(Object(l.a)().mark((function e(t,n){var r,c,a,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextEncoder,c=r.encode(n),e.next=4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},t,c);case 4:return a=e.sent,console.log(a),u=new Uint8Array(a),e.abrupt("return",ee(u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(Object(l.a)().mark((function e(t,n){var r,c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(n),e.next=3,window.crypto.subtle.decrypt({name:"RSA-OAEP"},t,r);case 3:return c=e.sent,a=(new TextDecoder).decode(new Uint8Array(c)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(b.a)(Object(l.a)().mark((function e(t,n,r){var c,a,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=te(r),e.next=3,window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},t,c);case 3:return a=e.sent,u=(new TextDecoder).decode(new Uint8Array(a)),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("jwk",t,{name:"RSA-OAEP",hash:{name:"SHA-256"}},!1,["encrypt"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return de.apply(this,arguments)}function de(){return(de=Object(b.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("jwk",t,{name:"RSA-OAEP",hash:{name:"SHA-256"}},!1,["decrypt"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(){var e=window.walletConnection.account(),t=Object(c.useState)({}),n=Object(d.a)(t,2),a=n[0],u=n[1],s=Object(c.useState)(!0),i=Object(d.a)(s,2),j=i[0],O=i[1],x=Object(c.useState)("Fetching private key..."),w=Object(d.a)(x,2),m=w[0],g=w[1],S=Object(c.createRef)(),K=Object(c.createRef)();function C(e){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(Object(l.a)().mark((function e(t){var n,r,c,a,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:if(null!==(n=e.sent)){e.next=17;break}return e.next=6,V();case 6:return r=e.sent,c=JSON.stringify(r.publicKey),a=JSON.stringify(r.privateKey),e.next=11,f(c);case 11:return localStorage.setItem("privateKey",a),O(!0),g(a),e.next=16,h(t);case 16:n=e.sent;case 17:return u=JSON.parse(n),e.next=20,pe(u);case 20:return n=e.sent,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(c.useCallback)(Object(b.a)(Object(l.a)().mark((function t(){var n,r,c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.accountId);case 2:if(n=t.sent,r=null,t.prev=4,null!==(c=localStorage.getItem("privateKey"))){t.next=8;break}throw"error";case 8:return g(c),t.next=11,be(JSON.parse(c));case 11:r=t.sent,t.next=21;break;case 14:return t.prev=14,t.t0=t.catch(4),O(!1),g(""),u({publicKey:n,privateKey:null}),console.log("keypair",a),t.abrupt("return");case 21:u({publicKey:n,privateKey:r}),console.log("keypair",a);case 23:case"end":return t.stop()}}),t,null,[[4,14]])}))),[e.accountId]);Object(c.useEffect)((function(){I()}),[I]);var N=Object(c.useState)([]),E=Object(d.a)(N,2),T=E[0],R=E[1],P=Object(c.useCallback)(Object(b.a)(Object(l.a)().mark((function t(){var n,r,c,a,u,s;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.accountId){t.next=30;break}return n=[],t.next=4,_(e.accountId);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0=[];case 7:r=t.t0,console.log(e.accountId,r),c=Object(p.a)(r),t.prev=10,c.s();case 12:if((a=c.n()).done){t.next=20;break}return u=a.value,t.next=16,U(u);case 16:s=t.sent,n.push({id:u,title:s});case 18:t.next=12;break;case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(10),c.e(t.t1);case 25:return t.prev=25,c.f(),t.finish(25);case 28:R(n),console.log(n);case 30:case"end":return t.stop()}}),t,null,[[10,22,25,28]])}))),[e.accountId]);Object(c.useEffect)((function(){P()}),[P]);var D=Object(c.useState)([]),M=Object(d.a)(D,2),J=M[0],F=M[1],H=Object(c.useCallback)(Object(b.a)(Object(l.a)().mark((function t(){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.accountId){t.next=6;break}return t.next=3,v(e.accountId);case 3:n=t.sent,console.log(n),F(n);case 6:case"end":return t.stop()}}),t)}))),[e.accountId]);Object(c.useEffect)((function(){H()}),[H]);var L=Object(c.createRef)(),B=Object(c.createRef)(),Y=Object(c.createRef)(),z=Object(c.createRef)(),X=Object(c.useState)(!0),Z=Object(d.a)(X,2),$=Z[0],te=Z[1];function re(){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(Object(l.a)().mark((function t(){var n,c,u,s,o,i,p,b,d;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=$?e.accountId:L.current.value,!$){t.next=5;break}t.t0=a.publicKey,t.next=14;break;case 5:return t.t1=r,t.t2=JSON,t.next=9,h(n);case 9:return t.t3=t.sent,t.t4=t.t2.parse.call(t.t2,t.t3),t.next=13,t.t1.importPublicKey.call(t.t1,t.t4);case 13:t.t0=t.sent;case 14:return c=t.t0,console.log("recpubkey",c),u=B.current.value,s=Y.current.value,o=window.crypto.getRandomValues(new Uint8Array(12)),t.next=21,q();case 21:return i=t.sent,t.next=24,Q(i);case 24:return p=t.sent,console.log(i,p),console.log("data",s),t.next=29,ne(i,o,s);case 29:return b=t.sent,t.next=32,ce(c,JSON.stringify({key:p,iv:ee(o)}));case 32:d=t.sent,console.log("encsymkey",d),console.log("encdata",b),k(n,d,b,u);case 36:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ue=Object(c.createRef)();function se(){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue.current.value,e.next=3,y(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(W,{account:e}),e.accountId&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:"private-key-section",children:""!==m?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"View Your Private Key:\xa0"}),Object(G.jsx)("input",{type:"checkbox",onClick:function(){return O(!j)},value:j})]}),j&&Object(G.jsxs)(G.Fragment,{children:["Private key:",Object(G.jsx)("input",{ref:S,value:m}),Object(G.jsx)("button",{onClick:function(){return S.current.value=m,S.current.select(),void navigator.clipboard.writeText(m)},children:"Copy"}),Object(G.jsx)("button",{onClick:function(){return g("")},children:"Re-enter"}),Object(G.jsx)("div",{children:Object(G.jsx)("i",{children:"Locally store your private key on your device and do not share it with anyone."})})]})]}):Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Paste Your Private Key: "}),Object(G.jsx)("input",{ref:K}),Object(G.jsx)("button",{onClick:function(){return function(){try{var e=JSON.parse(K.current.value);O(!0),g(K.current.value),u({publicKey:a.publicKey,privateKey:e}),localStorage.setItem("privateKey",K.current.value)}catch(t){console.log(t),K.current.value="Invalid private key!"}}()},children:"Submit"}),Object(G.jsx)("div",{children:Object(G.jsxs)("i",{children:['Make sure your private key starts with a "',"{",'" and ends with a "',"}",'" (JSON format).']})})]})}),Object(G.jsx)("div",{children:Object(G.jsx)("b",{children:"Your Data:"})}),Object(G.jsx)("ul",{className:"data-entries",children:T.map((function(e){var t=e.id,n=e.title;return Object(G.jsxs)("li",{children:[n,"\xa0",Object(G.jsx)(o.b,{to:"/data/".concat(t),children:"(view)"})]},t)}))}),Object(G.jsx)("div",{className:"section-title",children:Object(G.jsx)("b",{children:"Upload Data:"})}),Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{children:["To your account:\xa0",Object(G.jsx)("input",{type:"checkbox",checked:$,onClick:function(){return te(!$)}})]}),!$&&Object(G.jsxs)("div",{children:["Account:\xa0",Object(G.jsx)("input",{ref:L})]}),Object(G.jsxs)("div",{children:["Title:\xa0",Object(G.jsx)("input",{ref:B})]}),Object(G.jsxs)("div",{children:["Data:\xa0",Object(G.jsx)("input",{ref:Y})]}),Object(G.jsx)("button",{ref:z,onClick:Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Upload"})]}),Object(G.jsxs)("div",{className:"section-title",children:[Object(G.jsx)("b",{children:"Contributors:"})," ",0===J.length&&"None"]}),Object(G.jsx)("ul",{children:J.map((function(e){return Object(G.jsx)("li",{children:e},e)}))}),Object(G.jsxs)("div",{className:"section-title",children:[Object(G.jsx)("b",{children:"Add Contributor:"}),Object(G.jsx)("input",{ref:ue}),Object(G.jsx)("button",{onClick:Object(b.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Add"})]})]}),Object(G.jsx)("style",{jsx:!0,children:"\n                .section-title {\n                    margin-top: 50px;\n                }\n\n                .private-key-section {\n                    margin-bottom: 30px;\n                }\n\n                .private-key-field {\n                    font-size: 0.7rem;\n                    margin: 0 50px;\n                    font-family: monospace;\n                }\n            "})]})};function fe(){var e=window.walletConnection.account(),t=Object(i.g)().id,n=Object(c.useState)({}),r=Object(d.a)(n,2),a=r[0],u=r[1],s=Object(c.useCallback)(Object(b.a)(Object(l.a)().mark((function n(){var r,c,a,s,o,i,p,b,d,j;return Object(l.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.accountId){n.next=45;break}return r={},n.next=4,_(e.accountId);case 4:if(n.sent.includes(t)){n.next=10;break}return r.error=!0,r.errorMessage='No data entry found for id of "'.concat(t,'"'),u(r),n.abrupt("return");case 10:return n.prev=10,n.next=13,K(t);case 13:return c=n.sent,n.next=16,A(t);case 16:return a=n.sent,n.next=19,N(t);case 19:return s=n.sent,n.next=22,U(t);case 22:return o=n.sent,n.next=25,be(JSON.parse(localStorage.getItem("privateKey")));case 25:return i=n.sent,console.log(i),n.next=29,ue(i,c);case 29:return p=n.sent,n.next=32,Z(JSON.parse(p).key);case 32:return b=n.sent,d=te(JSON.parse(p).iv),n.next=36,oe(b,d,a);case 36:j=n.sent,console.log("decdata",j),u({title:o,uploader:s,data:j}),n.next=45;break;case 41:n.prev=41,n.t0=n.catch(10),console.log(n.t0),u({error:!0,errorMessage:"Decryption error. Make sure you entered your private key correctly or check if you have access to this data."});case 45:case"end":return n.stop()}}),n,null,[[10,41]])}))),[e.accountId]);return Object(c.useEffect)((function(){s()}),[s]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(W,{account:e}),a.error?Object(G.jsx)("div",{children:Object(G.jsx)("i",{children:a.errorMessage})}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Title:"})," ",a.title]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Data:"})," ",a.data]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("b",{children:"Uploader:"})," ",a.uploader]})]}),Object(G.jsx)("div",{className:"back-link",children:Object(G.jsx)(o.b,{to:"/",children:"Back to home page"})}),Object(G.jsx)("style",{jsx:"true",children:"\n                .back-link {\n                    margin-top: 20px;\n                }\n            "})]})}window.nearInitPromise=function(){return J.apply(this,arguments)}().then((function(){s.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(o.a,{children:Object(G.jsxs)(i.c,{children:[Object(G.jsx)(i.a,{path:"/",element:Object(G.jsx)(je,{})}),Object(G.jsx)(i.a,{path:"/data",element:Object(G.jsx)(fe,{}),children:Object(G.jsx)(i.a,{path:":id",element:Object(G.jsx)(fe,{})})})]})})}),document.getElementById("root"))})).catch(console.error)},75:function(e,t){},85:function(e,t){}},[[130,1,2]]]);
//# sourceMappingURL=main.9edc1521.chunk.js.map